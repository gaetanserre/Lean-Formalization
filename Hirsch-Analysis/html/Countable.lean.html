<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>Countable.lean</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Lean4 v4.7.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+↑</kbd> <kbd>Ctrl+↓</kbd> to navigate, <kbd>Ctrl+🖱️</kbd> to focus. On Mac, use <kbd>⌘</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="c">/-</span>
<span class="cm"> - Created in 2024 by Gaëtan Serré</span>
<span class="cm">-/</span>

<span class="c">/-</span>
<span class="cm">- https://github.com/gaetanserre/Hirsch-Analysis</span>
<span class="cm">-/</span>


<span class="kn">import</span> Mathlib.Init.Set
<span class="kn">import</span> Mathlib.Order.Filter.Basic
<span class="kn">import</span> Mathlib.Topology.Basic
<span class="kn">import</span> Mathlib.Tactic

<span class="kn">open</span> Set Filter Topology Classical

<span class="kd">set_option</span> trace.Meta.Tactic.simp.rewrite true

<span class="kd">set_option</span> maxHeartbeats <span class="mi">1000000</span>

<span class="kn">local</span> macro_rules <span class="bp">|</span> <span class="bp">`</span>(<span class="bp">$</span>x <span class="bp">^</span> <span class="bp">$</span>y) <span class="bp">=&gt;</span> <span class="bp">`</span>(HPow.hPow <span class="bp">$</span>x <span class="bp">$</span>y)

<span class="c1">----------------------------------COUNTABLE-----------------------------------</span>

<span class="sd">/--</span>
<span class="sd">A set E is countable if it exists a surjection from ℕ to E.</span>
<span class="sd">-/</span>
<span class="kd">def</span> countable {u : <span class="kt">Type</span>} (E : Set u) := <span class="bp">∃</span> (f : ℕ <span class="bp">→</span> u), SurjOn f (univ) E

<span class="sd">/--</span>
<span class="sd">ℕ is countable.</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> N_countable : countable (univ : Set ℕ) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2">use (<span class="bp">λ</span> n <span class="bp">↦</span> n)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">SurjOn (<span class="k">fun</span> n <span class="bp">=&gt;</span> n) univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk4">intro n n_in</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">n <span class="bp">∈</span> (<span class="k">fun</span> n <span class="bp">=&gt;</span> n) <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk5">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk6">use n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">ℤ is countable</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> Z_countable : countable (univ : Set ℤ) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk7"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk8">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk9"><span class="k">let</span> f := <span class="bp">λ</span> (n : ℕ) <span class="bp">↦</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>((n <span class="bp">/</span> <span class="mi">2</span>) : ℤ) <span class="k">else</span> ((n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> : ℤ)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb"><span class="k">have</span> f_surj : SurjOn f univ univ := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk10">intro z _</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk11">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk12">by_cases h : <span class="mi">0</span> <span class="bp">&lt;</span> z</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk13" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk13"><hr><span class="goal-name">neg</span></label><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk14">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk15"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk16"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk17" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk17"><hr><span class="goal-name">neg</span></label><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk18"><span class="k">let</span> n := <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>)<span class="bp">.</span>toNat <span class="bp">+</span> <span class="mi">1</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk19">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a"><span class="k">have</span> odd_n : Odd n := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Odd n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d">use (z <span class="bp">-</span> <span class="mi">1</span>)<span class="bp">.</span>toNat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f">use n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">n <span class="bp">∈</span> univ <span class="bp">∧</span> f n <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk20">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk21">refine ⟨trivial, <span class="bp">?</span>_⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f n <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk22">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk23">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f n <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk24"><span class="k">show</span> f n <span class="bp">=</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>((n <span class="bp">/</span> <span class="mi">2</span>) : ℤ) <span class="k">else</span> ((n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> : ℤ) <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f n <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk25">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk26">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(<span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk27">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk28">split</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_pos:<span class="mi">1000</span>, <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>)
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_neg:<span class="mi">1000</span>, <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk29" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk29"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion">(<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2a">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b">next h_if <span class="bp">=&gt;</span>
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk2c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk2c"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion">(<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2d">exfalso</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f">exact (Nat.odd_iff_not_even.mp odd_n) h_if</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk30">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk31"><span class="k">have</span> coe : (n : ℤ) <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inr</span></span><div class="goal-conclusion">(<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk32"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk33"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk34">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk35">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk36"><span class="k">have</span> coe_tmp : ((z <span class="bp">-</span> <span class="mi">1</span>)<span class="bp">.</span>toNat : ℤ) <span class="bp">=</span> z <span class="bp">-</span> <span class="mi">1</span> := Int.toNat_of_nonneg (Int.le_sub_one_of_lt h)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe_tmp</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">=</span> z <span class="bp">-</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk37">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk38">simpa [<span class="bp">-</span>Int.pred_toNat] using coe_tmp</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>Nat.cast_succ:<span class="mi">500</span>, <span class="bp">↑</span>n <span class="bp">==&gt;</span> <span class="bp">↑</span>(<span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">+</span> <span class="mi">1</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>Nat.cast_mul:<span class="mi">1000</span>, <span class="bp">↑</span>(<span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">==&gt;</span> <span class="bp">↑</span><span class="mi">2</span> <span class="bp">*</span> <span class="bp">↑</span>(Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>))
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>Nat.cast_ofNat:<span class="mi">1000</span>, <span class="bp">↑</span><span class="mi">2</span> <span class="bp">==&gt;</span> <span class="mi">2</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>sub_nonneg:<span class="mi">1000</span>, <span class="mi">0</span> <span class="bp">≤</span> z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">==&gt;</span> <span class="mi">1</span> <span class="bp">≤</span> z
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>add_left_inj:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">*</span> <span class="bp">↑</span>(Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span>
      <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> <span class="mi">2</span> <span class="bp">*</span> <span class="bp">↑</span>(Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>)
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>mul_eq_mul_left_iff:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">*</span> <span class="bp">↑</span>(Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">=</span>
      <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">==&gt;</span> <span class="bp">↑</span>(Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">=</span> z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">∨</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">0</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>OfNat.ofNat_ne_zero:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">==&gt;</span> False
[Meta.Tactic.simp.rewrite] or_false:<span class="mi">1000</span>, <span class="bp">↑</span>(Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">=</span> z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">∨</span> False <span class="bp">==&gt;</span> <span class="bp">↑</span>(Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">=</span> z <span class="bp">-</span> <span class="mi">1</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>sub_nonneg:<span class="mi">1000</span>, <span class="mi">0</span> <span class="bp">≤</span> z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">==&gt;</span> <span class="mi">1</span> <span class="bp">≤</span> z</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk39">
      }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inr</span></span><div class="goal-conclusion">(<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c">coe</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inr</span></span><div class="goal-conclusion">(<span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inr</span></span><div class="goal-conclusion">(<span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3e">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3f"><span class="k">calc</span> (<span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> (<span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>)) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inr</span></span><div class="goal-conclusion">(<span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk40"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk41"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk42">simp</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>add_sub_cancel:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span> <span class="bp">==&gt;</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>)
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>ne_eq:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">==&gt;</span> <span class="bp">¬</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">0</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>OfNat.ofNat_ne_zero:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">==&gt;</span> False
[Meta.Tactic.simp.rewrite] not_false_eq_true:<span class="mi">1000</span>, <span class="bp">¬</span>False <span class="bp">==&gt;</span> True
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>Int.mul_ediv_cancel_left:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">==&gt;</span> z <span class="bp">-</span> <span class="mi">1</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>sub_add_cancel:<span class="mi">1000</span>, z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> z
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>ne_eq:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">==&gt;</span> <span class="bp">¬</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">0</span>
[Meta.Tactic.simp.rewrite] not_false_eq_true:<span class="mi">1000</span>, <span class="bp">¬</span>False <span class="bp">==&gt;</span> True
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>Int.mul_ediv_cancel_left:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">==&gt;</span> z <span class="bp">-</span> <span class="mi">1</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>sub_add_cancel:<span class="mi">1000</span>, z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> z
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>eq_self:<span class="mi">1000</span>, z <span class="bp">=</span> z <span class="bp">==&gt;</span> True</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk43">
      _ <span class="bp">=</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inr</span></span><div class="goal-conclusion">(<span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk44"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk45"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk46">simp</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>ne_eq:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">==&gt;</span> <span class="bp">¬</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">0</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>OfNat.ofNat_ne_zero:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">==&gt;</span> False
[Meta.Tactic.simp.rewrite] not_false_eq_true:<span class="mi">1000</span>, <span class="bp">¬</span>False <span class="bp">==&gt;</span> True
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>Int.mul_ediv_cancel_left:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">==&gt;</span> z <span class="bp">-</span> <span class="mi">1</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>sub_add_cancel:<span class="mi">1000</span>, z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> z
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>sub_add_cancel:<span class="mi">1000</span>, z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> z
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>eq_self:<span class="mi">1000</span>, z <span class="bp">=</span> z <span class="bp">==&gt;</span> True</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk47">
      _ <span class="bp">=</span> z := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inr</span></span><div class="goal-conclusion">(<span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span> <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk48"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk49"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> z</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>odd_n</var><span class="hyp-type"><b>: </b><span>Odd n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">*</span> (z <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk4a">simp</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>sub_add_cancel:<span class="mi">1000</span>, z <span class="bp">-</span> <span class="mi">1</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> z
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>eq_self:<span class="mi">1000</span>, z <span class="bp">=</span> z <span class="bp">==&gt;</span> True</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk4b">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk4c">push_neg at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk4d">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk4e"><span class="k">let</span> n := <span class="mi">2</span> <span class="bp">*</span> (<span class="bp">-</span>z)<span class="bp">.</span>toNat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk4f">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk50"><span class="k">have</span> even_n : Even n := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">z <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk51"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk52"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Even n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk53">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Even n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk54">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Even n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk55">unfold Even</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> r, n <span class="bp">=</span> r <span class="bp">+</span> r</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk56">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Even n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk57">use (<span class="bp">-</span>z)<span class="bp">.</span>toNat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">n <span class="bp">=</span> Int.toNat (<span class="bp">-</span>z) <span class="bp">+</span> Int.toNat (<span class="bp">-</span>z)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk58">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Even n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk59">ring</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk5a">
    }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk5b">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk5c">use n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">n <span class="bp">∈</span> univ <span class="bp">∧</span> f n <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk5d">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk5e">refine ⟨trivial, <span class="bp">?</span>_⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f n <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk5f">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk60">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f n <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk61"><span class="k">show</span> f n <span class="bp">=</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>((n <span class="bp">/</span> <span class="mi">2</span>) : ℤ) <span class="k">else</span> ((n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> : ℤ) <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f n <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk62">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk63">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(<span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk64">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk65">split</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_pos:<span class="mi">1000</span>, <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>)
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_pos:<span class="mi">1000</span>, <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span> <span class="bp">==&gt;</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>)</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk66" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk66"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk67">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk68"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk69"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk6a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>Even n</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk6a"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk6b"><span class="k">have</span> coe : ((<span class="bp">-</span>z)<span class="bp">.</span>toNat : ℤ) <span class="bp">=</span> <span class="bp">-</span>z := Int.toNat_of_nonneg (Int.neg_nonneg_of_nonpos h)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk6c">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk6d"><span class="k">let</span> m_z := <span class="bp">-</span> z</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk6e">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk6f"><span class="k">calc</span> <span class="bp">-</span> ((n : ℤ) <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> <span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> ((<span class="bp">-</span>z)<span class="bp">.</span>toNat : ℤ) <span class="bp">/</span> <span class="mi">2</span>) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk70"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk71"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> <span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> <span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">/</span> <span class="mi">2</span>)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk72">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> <span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> <span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">/</span> <span class="mi">2</span>)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk73"><span class="k">show</span> (n : ℤ) <span class="bp">=</span> ((<span class="mi">2</span> <span class="bp">*</span> m_z.toNat) : ℤ) <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> <span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> <span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">/</span> <span class="mi">2</span>)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk74">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk75">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk76">
      _ <span class="bp">=</span> <span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> m_z <span class="bp">/</span> <span class="mi">2</span>) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk77"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk78"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> <span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> <span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> m_z <span class="bp">/</span> <span class="mi">2</span>)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk79">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> <span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> <span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> m_z <span class="bp">/</span> <span class="mi">2</span>)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk7a">coe</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> <span class="bp">-</span>z <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> <span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> m_z <span class="bp">/</span> <span class="mi">2</span>)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk7b">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk7c">
      _ <span class="bp">=</span> <span class="bp">-</span>(m_z) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk7d"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk7e"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="mi">2</span> <span class="bp">*</span> m_z <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> <span class="bp">-</span>m_z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk7f">simp</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>ne_eq:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">≠</span> <span class="mi">0</span> <span class="bp">==&gt;</span> <span class="bp">¬</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">0</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>OfNat.ofNat_ne_zero:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">=</span> <span class="mi">0</span> <span class="bp">==&gt;</span> False
[Meta.Tactic.simp.rewrite] not_false_eq_true:<span class="mi">1000</span>, <span class="bp">¬</span>False <span class="bp">==&gt;</span> True
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>Int.mul_ediv_cancel_left:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">*</span> m_z <span class="bp">/</span> <span class="mi">2</span> <span class="bp">==&gt;</span> m_z
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>eq_self:<span class="mi">1000</span>, <span class="bp">-</span>m_z <span class="bp">=</span> <span class="bp">-</span>m_z <span class="bp">==&gt;</span> True</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk80">
      _ <span class="bp">=</span> <span class="bp">-</span> (<span class="bp">-</span>z) := rfl
      _ <span class="bp">=</span> z := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk81"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk82"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>ℤ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>z <span class="bp">∈</span> univ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>z <span class="bp">≤</span> <span class="mi">0</span></span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">*</span> Int.toNat (<span class="bp">-</span>z)</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>even_n, h✝</var><span class="hyp-type"><b>: </b><span>Even n</span></span></span><br><span><var>coe</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>(Int.toNat (<span class="bp">-</span>z)) <span class="bp">=</span> <span class="bp">-</span>z</span></span></span><br><span><var>m_z</var><span><span class="hyp-body"><b>:= </b><span><span class="bp">-</span>z</span></span><span class="hyp-type"><b>: </b><span>ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">-</span> <span class="bp">-</span>z <span class="bp">=</span> z</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk83">simp</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>neg_neg:<span class="mi">1000</span>, <span class="bp">-</span> <span class="bp">-</span>z <span class="bp">==&gt;</span> z
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>eq_self:<span class="mi">1000</span>, z <span class="bp">=</span> z <span class="bp">==&gt;</span> True</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk84">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : Even n <span class="k">then</span> <span class="bp">-</span>(<span class="bp">↑</span>n <span class="bp">/</span> <span class="mi">2</span>) <span class="k">else</span> (<span class="bp">↑</span>n <span class="bp">-</span> <span class="mi">1</span>) <span class="bp">/</span> <span class="mi">2</span> <span class="bp">+</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℤ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk85">contradiction</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk86">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk87">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk88">use f</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">Let E a set. E is countable iff it exists a surjection from a countable set A to E.</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> countable_trans {u : <span class="kt">Type</span>} {E : Set u} : countable E <span class="bp">↔</span> (<span class="bp">∃</span> (v : <span class="kt">Type</span>), <span class="bp">∃</span> (A : Set v), (countable A <span class="bp">∧</span> <span class="bp">∃</span> (f : v <span class="bp">→</span> u), SurjOn f A E)) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk89"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk8a">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk8b">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk8c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk8c"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">(<span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> countable E</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk8d">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk8e"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk8f"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk90" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk90"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">(<span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> countable E</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk91">intro h_denomb</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h_denomb</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion"><span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk92">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk93">use ℕ, univ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h_denomb</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">countable univ <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk94">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk95">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h_denomb</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">countable univ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk96" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h_denomb</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk96"><hr><span class="goal-name">h.right</span></label><div class="goal-conclusion"><span class="bp">∃</span> f, SurjOn f univ E</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk97">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk98"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h_denomb</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk99"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h_denomb</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">countable univ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk9a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h_denomb</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk9a"><hr><span class="goal-name">h.right</span></label><div class="goal-conclusion"><span class="bp">∃</span> f, SurjOn f univ E</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk9b">exact N_countable</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk9c">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk9d">rcases h_denomb <span class="k">with</span> ⟨f, f_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.right.intro</span></span><div class="goal-conclusion"><span class="bp">∃</span> f, SurjOn f univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk9e">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk9f">use f</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka0">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka1">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka2">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka3">rcases h <span class="k">with</span> ⟨v, A, ⟨g, g_surj⟩, f, f_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka4">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka5"><span class="k">have</span> comp_surj : SurjOn (f <span class="bp">∘</span> g) (univ) E := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka6"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka7"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka8">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chka9">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkaa">intro e e_in_E</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e <span class="bp">∈</span> f <span class="bp">∘</span> g <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkab">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkac">specialize f_surj e_in_E</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e <span class="bp">∈</span> f <span class="bp">∘</span> g <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkad">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkae">rcases f_surj <span class="k">with</span> ⟨a, a_in_A, fa⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">e <span class="bp">∈</span> f <span class="bp">∘</span> g <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkaf">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb0">specialize g_surj a_in_A</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> g <span class="bp">&#39;&#39;</span> univ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">e <span class="bp">∈</span> f <span class="bp">∘</span> g <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb1">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb2">rcases g_surj <span class="k">with</span> ⟨n, n_in_N, gn⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro</span></span><div class="goal-conclusion">e <span class="bp">∈</span> f <span class="bp">∘</span> g <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb3">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb4">use n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">n <span class="bp">∈</span> univ <span class="bp">∧</span> (f <span class="bp">∘</span> g) n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb5">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb6">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">n <span class="bp">∈</span> univ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chkb7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chkb7"><hr><span class="goal-name">h.right</span></label><div class="goal-conclusion">(f <span class="bp">∘</span> g) n <span class="bp">=</span> e</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb8">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkb9"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">n <span class="bp">∈</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkba"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">n <span class="bp">∈</span> univ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chkbb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chkbb"><hr><span class="goal-name">h.right</span></label><div class="goal-conclusion">(f <span class="bp">∘</span> g) n <span class="bp">=</span> e</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkbc">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkbd">

    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkbe">unfold Function.comp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.right</span></span><div class="goal-conclusion">f (g n) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkbf">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc0">rwa [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.right</span></span><div class="goal-conclusion">f (g n) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc1">gn</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.right</span></span><div class="goal-conclusion">f a <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc2">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>v <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.right</span></span><div class="goal-conclusion">f a <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc3">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc4">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> <span class="bp">∃</span> v A, countable A <span class="bp">∧</span> <span class="bp">∃</span> f, SurjOn f A E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc5">use (f <span class="bp">∘</span> g)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">Let E be a countable set. Then any A ⊆ E is countable.</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> subset_of_countable_set {u : <span class="kt">Type</span>} {E : Set u} (A : Set u) (h : A <span class="bp">⊆</span> E) (he : countable E) : countable A :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc6"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc7">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc8"><span class="k">let</span> f := <span class="bp">λ</span> (e : u) <span class="bp">↦</span> e</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> e</span></span><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkc9">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkca"><span class="k">have</span> f_surj : SurjOn f E A := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> e</span></span><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkcb"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkcc"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> e</span></span><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f E A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkcd">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> e</span></span><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f E A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkce">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> e</span></span><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f E A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkcf">intro a a_in_A</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> e</span></span><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> u</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd0">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> e</span></span><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f E A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd1">use a, (h a_in_A)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd2">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd3">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd4">exact countable_trans.mpr ⟨u, E, he, f, f_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span> prod_pow_primes_left {p q : ℕ} [hp : Fact p.Prime] [hq : Fact q.Prime]
  (n m : ℕ) (neq : p <span class="bp">≠</span> q) : padicValNat p (p<span class="bp">^</span>n <span class="bp">*</span> q<span class="bp">^</span>m) <span class="bp">=</span> n :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd5"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd6">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n <span class="bp">*</span> q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd7">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n <span class="bp">*</span> q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd8">padicValNat.mul (NeZero.ne&#39; (p<span class="bp">^</span>n))<span class="bp">.</span>symm (NeZero.ne&#39; (q<span class="bp">^</span>m))<span class="bp">.</span>symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkd9">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkda">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n <span class="bp">*</span> q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkdb"><span class="k">have</span> padic_p_qm_eq_0 : padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span> := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkdc"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkdd">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkde">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkdf">padicValNat.pow _ (Nat.Prime.ne_zero hq.elim),</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m <span class="bp">*</span> padicValNat p q <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke0"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke1">padicValNat_primes neq,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke2"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke3">mul_zero</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke4">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke5">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n <span class="bp">*</span> q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke6">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br><span><var>padic_p_qm_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke7">padicValNat.prime_pow,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br><span><var>padic_p_qm_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">+</span> padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke8"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br><span><var>padic_p_qm_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chke9">padic_p_qm_eq_0,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br><span><var>padic_p_qm_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkea"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br><span><var>padic_p_qm_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat p (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkeb">add_zero</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">≠</span> q</span></span></span><br><span><var>padic_p_qm_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat p (q <span class="bp">^</span> m) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">=</span> n</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkec">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">theorem</span> prod_pow_primes_right {p q : ℕ} [hp : Fact p.Prime] [hq : Fact q.Prime]
  (n m : ℕ) (neq : q <span class="bp">≠</span> p) : padicValNat q (p<span class="bp">^</span>n <span class="bp">*</span> q<span class="bp">^</span>m) <span class="bp">=</span> m :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chked"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkee">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n <span class="bp">*</span> q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkef">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n <span class="bp">*</span> q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf0">padicValNat.mul (NeZero.ne&#39; (p<span class="bp">^</span>n))<span class="bp">.</span>symm (NeZero.ne&#39; (q<span class="bp">^</span>m))<span class="bp">.</span>symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat q (q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf1">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat q (q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf2">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n <span class="bp">*</span> q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf3"><span class="k">have</span> padic_q_pn_eq_0 : padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span> := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat q (q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf5">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf6">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf7">padicValNat.pow _ (Nat.Prime.ne_zero hp.elim),</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">*</span> padicValNat q p <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf8"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkf9">padicValNat_primes neq,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">*</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkfa"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkfb">mul_zero</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkfc">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkfd">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n <span class="bp">*</span> q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkfe">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br><span><var>padic_q_pn_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat q (q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chkff">padicValNat.prime_pow,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br><span><var>padic_q_pn_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">+</span> m <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk100"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br><span><var>padic_q_pn_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat q (q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk101">padic_q_pn_eq_0,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br><span><var>padic_q_pn_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">+</span> m <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk102"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br><span><var>padic_q_pn_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">padicValNat q (p <span class="bp">^</span> n) <span class="bp">+</span> padicValNat q (q <span class="bp">^</span> m) <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk103">zero_add</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime p)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>Fact (Nat.Prime q)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>neq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">≠</span> p</span></span></span><br><span><var>padic_q_pn_eq_0</var><span class="hyp-type"><b>: </b><span>padicValNat q (p <span class="bp">^</span> n) <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m <span class="bp">=</span> m</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk104">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">ℕ² is countable.</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> N2_countable : countable (univ : Set (ℕ <span class="bp">×</span> ℕ)) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk105"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk106">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk107"><span class="k">let</span> A := {n : ℕ <span class="bp">|</span> <span class="bp">∃</span> (a b : ℕ), n <span class="bp">=</span> <span class="mi">2</span><span class="bp">^</span>a <span class="bp">*</span> <span class="mi">3</span><span class="bp">^</span>b}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk108">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk109"><span class="k">let</span> f := <span class="bp">λ</span> n <span class="bp">↦</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> (n.factorization <span class="mi">2</span>, n.factorization <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk10a">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk10b"><span class="k">have</span> f_surj : SurjOn f A (univ : Set (ℕ <span class="bp">×</span> ℕ)) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk10c"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk10d"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk10e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk10f">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk110">intro x _</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk111">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk112"><span class="k">let</span> n := <span class="mi">2</span><span class="bp">^</span>x.1 <span class="bp">*</span> <span class="mi">3</span><span class="bp">^</span>x.2</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk113">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk114">use n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">n <span class="bp">∈</span> A <span class="bp">∧</span> f n <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk115">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk116"><span class="k">have</span> n_in_A : n <span class="bp">∈</span> A := ⟨x.1, x.2, rfl⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">n <span class="bp">∈</span> A <span class="bp">∧</span> f n <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk117">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk118">refine ⟨n_in_A, <span class="bp">?</span>_⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f n <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk119">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk11a">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f n <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk11b"><span class="k">show</span> f n <span class="bp">=</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> (n.factorization <span class="mi">2</span>, n.factorization <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>) <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f n <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk11c">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk11d">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(<span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk11e">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk11f">split</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>if_pos:<span class="mi">1000</span>, <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>)
    <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>) <span class="bp">==&gt;</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>)
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>if_pos:<span class="mi">1000</span>, <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>)
    <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>) <span class="bp">==&gt;</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>)</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk120" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk120"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion">((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk121">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk122"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk123"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk124" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk124"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion">((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk125">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk126"><span class="k">show</span> n.factorization <span class="mi">2</span> <span class="bp">=</span> padicValNat <span class="mi">2</span> n <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk127">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk128">,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">(padicValNat <span class="mi">2</span> n, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk129"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk12a"><span class="k">show</span> n.factorization <span class="mi">3</span> <span class="bp">=</span> padicValNat <span class="mi">3</span> n <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">(padicValNat <span class="mi">2</span> n, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk12b">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk12c">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">(padicValNat <span class="mi">2</span> n, padicValNat <span class="mi">3</span> n) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk12d">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk12e">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">(padicValNat <span class="mi">2</span> n, padicValNat <span class="mi">3</span> n) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk12f">prod_pow_primes_left x.1 x.2 (<span class="k">show</span> <span class="mi">2</span> <span class="bp">≠</span> <span class="mi">3</span> <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">(padicValNat <span class="mi">2</span> n, padicValNat <span class="mi">3</span> n) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk130">simp</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>ne_eq:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">≠</span> <span class="mi">3</span> <span class="bp">==&gt;</span> <span class="bp">¬</span><span class="mi">2</span> <span class="bp">=</span> <span class="mi">3</span>
[Meta.Tactic.simp.rewrite] Nat.succ.injEq:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">=</span> <span class="mi">3</span> <span class="bp">==&gt;</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">2</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>OfNat.one_ne_ofNat:<span class="mi">1000</span>, <span class="mi">1</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">==&gt;</span> False
[Meta.Tactic.simp.rewrite] not_false_eq_true:<span class="mi">1000</span>, <span class="bp">¬</span>False <span class="bp">==&gt;</span> True</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk131">),</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">(x.1, padicValNat <span class="mi">3</span> n) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk132"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">(padicValNat <span class="mi">2</span> n, padicValNat <span class="mi">3</span> n) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk133">prod_pow_primes_right x.1 x.2 (<span class="k">show</span> <span class="mi">3</span> <span class="bp">≠</span> <span class="mi">2</span> <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">(x.1, padicValNat <span class="mi">3</span> n) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk134">simp</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>ne_eq:<span class="mi">1000</span>, <span class="mi">3</span> <span class="bp">≠</span> <span class="mi">2</span> <span class="bp">==&gt;</span> <span class="bp">¬</span><span class="mi">3</span> <span class="bp">=</span> <span class="mi">2</span>
[Meta.Tactic.simp.rewrite] Nat.succ.injEq:<span class="mi">1000</span>, <span class="mi">3</span> <span class="bp">=</span> <span class="mi">2</span> <span class="bp">==&gt;</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">1</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>OfNat.ofNat_ne_one:<span class="mi">1000</span>, <span class="mi">2</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">==&gt;</span> False
[Meta.Tactic.simp.rewrite] not_false_eq_true:<span class="mi">1000</span>, <span class="bp">¬</span>False <span class="bp">==&gt;</span> True</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk135">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br><span><var>n</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">2</span> <span class="bp">^</span> x.1 <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> x.2</span></span><span class="hyp-type"><b>: </b><span>ℕ</span></span></span></span><br><span><var>n_in_A, h✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">(x.1, x.2) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk136">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk137">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> a b, n <span class="bp">=</span> <span class="mi">2</span> <span class="bp">^</span> a <span class="bp">*</span> <span class="mi">3</span> <span class="bp">^</span> b}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> n <span class="bp">∈</span> A <span class="k">then</span> ((Nat.factorization n) <span class="mi">2</span>, (Nat.factorization n) <span class="mi">3</span>) <span class="k">else</span> (<span class="mi">0</span>, <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk138">contradiction</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk139">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk13a">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk13b">exact countable_trans.mpr ⟨ℕ, A, subset_of_countable_set A (<span class="bp">λ</span> _ _ <span class="bp">↦</span> trivial) (N_countable), f, f_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">We use a definition of a set being countable different to Mathlib&#39;s to match the book as much as possible. For completeness, we show that our definition is equivalent to Mathlib&#39;s. It corresponds to Corollary 1.5.</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> countable_iff {u : <span class="kt">Type</span>} {E : Set u} (hE : Set.Nonempty E) : countable E <span class="bp">↔</span> Set.Countable E :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk13c"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk13d">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk13e"><span class="k">let</span> s_t := {e : u <span class="bp">//</span> e <span class="bp">∈</span> E}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk13f">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk140">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> Set.Countable E</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk141" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk141"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">Set.Countable E <span class="bp">→</span> countable E</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk142">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk143"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk144"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> Set.Countable E</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk145" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk145"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">Set.Countable E <span class="bp">→</span> countable E</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk146">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk147">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk148">rcases h <span class="k">with</span> ⟨f, f_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro</span></span><div class="goal-conclusion">Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk149">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk14a"><span class="k">have</span> surj&#39; : <span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro</span></span><div class="goal-conclusion">Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk14b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk14c"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk14d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk14e">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk14f">intro e e_in_E</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> n, f n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk150">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk151">specialize f_surj e_in_E</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> n, f n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk152">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk153">rcases f_surj <span class="k">with</span> ⟨n, _, f_n⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>f_n</var><span class="hyp-type"><b>: </b><span>f n <span class="bp">=</span> e</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion"><span class="bp">∃</span> n, f n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk154">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk155">use n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk156">
    }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk157">

    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk158"><span class="k">let</span> g := <span class="bp">λ</span> (e : s_t) <span class="bp">↦</span> Nat.find (surj&#39; e.val e.property)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro</span></span><div class="goal-conclusion">Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk159">

    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk15a"><span class="k">have</span> g_inj : Function.Injective g := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro</span></span><div class="goal-conclusion">Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk15b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk15c"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Function.Injective g</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk15d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Function.Injective g</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk15e">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Function.Injective g</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk15f"><span class="k">have</span> f_g_id : <span class="bp">∀</span>e (h : e <span class="bp">∈</span> E), f (g ⟨e, h⟩) <span class="bp">=</span> e := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Function.Injective g</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk160"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk161"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk162">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk163">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk164">intro e he</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (g { val := e, property := he }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk165">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk166"><span class="k">have</span> h_g_e : g ⟨e, he⟩ <span class="bp">=</span> Nat.find (surj&#39; e he) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (g { val := e, property := he }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk167"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk168"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g { val := e, property := he } <span class="bp">=</span> Nat.find <span class="bp">⋯</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk169">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk16a">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk16b"><span class="k">have</span> tmp := Nat.find_spec (surj&#39; e he)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>h_g_e</var><span class="hyp-type"><b>: </b><span>g { val := e, property := he } <span class="bp">=</span> Nat.find <span class="bp">⋯</span></span></span></span><br><span><var>tmp</var><span class="hyp-type"><b>: </b><span>f (Nat.find <span class="bp">⋯</span>) <span class="bp">=</span> e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (g { val := e, property := he }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk16c">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk16d">rwa [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>h_g_e</var><span class="hyp-type"><b>: </b><span>g { val := e, property := he } <span class="bp">=</span> Nat.find <span class="bp">⋯</span></span></span></span><br><span><var>tmp</var><span class="hyp-type"><b>: </b><span>f (Nat.find <span class="bp">⋯</span>) <span class="bp">=</span> e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (g { val := e, property := he }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk16e"><span class="bp">←</span>h_g_e</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>h_g_e</var><span class="hyp-type"><b>: </b><span>g { val := e, property := he } <span class="bp">=</span> Nat.find <span class="bp">⋯</span></span></span></span><br><span><var>tmp</var><span class="hyp-type"><b>: </b><span>f (g { val := e, property := he }) <span class="bp">=</span> e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (g { val := e, property := he }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk16f">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>h_g_e</var><span class="hyp-type"><b>: </b><span>g { val := e, property := he } <span class="bp">=</span> Nat.find <span class="bp">⋯</span></span></span></span><br><span><var>tmp</var><span class="hyp-type"><b>: </b><span>f (g { val := e, property := he }) <span class="bp">=</span> e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (g { val := e, property := he }) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk170"> at tmp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk171">
      }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk172">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Function.Injective g</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk173">intro e1 e2 hg</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>f_g_id</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>s_t</span></span></span><br><span><var>hg</var><span class="hyp-type"><b>: </b><span>g e1 <span class="bp">=</span> g e2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e1 <span class="bp">=</span> e2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk174">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Function.Injective g</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk175">ext</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>f_g_id</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>s_t</span></span></span><br><span><var>hg</var><span class="hyp-type"><b>: </b><span>g e1 <span class="bp">=</span> g e2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion"><span class="bp">↑</span>e1 <span class="bp">=</span> <span class="bp">↑</span>e2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk176">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Function.Injective g</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk177">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>f_g_id</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>s_t</span></span></span><br><span><var>hg</var><span class="hyp-type"><b>: </b><span>g e1 <span class="bp">=</span> g e2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion"><span class="bp">↑</span>e1 <span class="bp">=</span> <span class="bp">↑</span>e2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk178"><span class="bp">←</span>f_g_id e1.val e1.property,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>f_g_id</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>s_t</span></span></span><br><span><var>hg</var><span class="hyp-type"><b>: </b><span>g e1 <span class="bp">=</span> g e2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion">f (g { val := <span class="bp">↑</span>e1, property := <span class="bp">⋯</span> }) <span class="bp">=</span> <span class="bp">↑</span>e2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk179"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>f_g_id</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>s_t</span></span></span><br><span><var>hg</var><span class="hyp-type"><b>: </b><span>g e1 <span class="bp">=</span> g e2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion"><span class="bp">↑</span>e1 <span class="bp">=</span> <span class="bp">↑</span>e2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk17a"><span class="bp">←</span>f_g_id e2.val e2.property,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>f_g_id</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>s_t</span></span></span><br><span><var>hg</var><span class="hyp-type"><b>: </b><span>g e1 <span class="bp">=</span> g e2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion">f (g { val := <span class="bp">↑</span>e1, property := <span class="bp">⋯</span> }) <span class="bp">=</span> f (g { val := <span class="bp">↑</span>e2, property := <span class="bp">⋯</span> })</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk17b"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>f_g_id</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>s_t</span></span></span><br><span><var>hg</var><span class="hyp-type"><b>: </b><span>g e1 <span class="bp">=</span> g e2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion"><span class="bp">↑</span>e1 <span class="bp">=</span> <span class="bp">↑</span>e2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk17c">hg</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f univ E</span></span></span><br><span><var>surj'</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> e <span class="bp">∈</span> E, <span class="bp">∃</span> n, f n <span class="bp">=</span> e</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> Nat.find <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>s_t <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>f_g_id</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (e : u) (h : e <span class="bp">∈</span> E), f (g { val := e, property := h }) <span class="bp">=</span> e</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>s_t</span></span></span><br><span><var>hg</var><span class="hyp-type"><b>: </b><span>g e1 <span class="bp">=</span> g e2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">a</span></span><div class="goal-conclusion">f (g e2) <span class="bp">=</span> f (g { val := <span class="bp">↑</span>e2, property := <span class="bp">⋯</span> })</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk17d">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk17e">
    }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk17f">

    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">countable E <span class="bp">→</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk180">use g</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk181">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk182">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Set.Countable E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk183">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk184">rcases h <span class="k">with</span> ⟨f, f_inj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.mk.intro</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk185">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk186"><span class="k">let</span> fE := {n : ℕ <span class="bp">|</span> <span class="bp">∃</span> (e : s_t), f e <span class="bp">=</span> n}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.mk.intro</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk187">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk188"><span class="k">have</span> fE_countable : countable fE := subset_of_countable_set fE (<span class="bp">λ</span> _ _ <span class="bp">↦</span> trivial) N_countable</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.mk.intro</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk189">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk18a"><span class="k">have</span> fE_dual_non_empty : <span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n} := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.mk.intro</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk18b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk18c"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk18d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk18e">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk18f">intro n hn</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hn</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk190">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk191">rcases hn <span class="k">with</span> ⟨e, fe_n⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>s_t</span></span></span><br><span><var>fe_n</var><span class="hyp-type"><b>: </b><span>f e <span class="bp">=</span> n</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk192">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk193">use e, fe_n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk194">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk195">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk196"><span class="k">let</span> ϕ := <span class="bp">λ</span> n h <span class="bp">↦</span> (Set.Nonempty.some (fE_dual_non_empty n h))</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.mk.intro</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk197">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk198"><span class="k">let</span> f&#39; := <span class="bp">λ</span> (n : ℕ) <span class="bp">↦</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> (ϕ n h)<span class="bp">.</span>val <span class="k">else</span> (Set.Nonempty.some (hE))</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.mk.intro</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk199">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk19a"><span class="k">have</span> f&#39;_surj : SurjOn f&#39; fE E := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.mk.intro</span></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk19b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk19c"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk19d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk19e">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk19f">intro e e_in_E</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e <span class="bp">∈</span> f&#39; <span class="bp">&#39;&#39;</span> fE</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a0">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a1"><span class="k">let</span> e&#39; : s_t := ⟨e, e_in_E⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e <span class="bp">∈</span> f&#39; <span class="bp">&#39;&#39;</span> fE</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a2">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a3">use (f e&#39;)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f e&#39; <span class="bp">∈</span> fE <span class="bp">∧</span> f&#39; (f e&#39;) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a4">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a5"><span class="k">have</span> fe&#39;_in_fE : f e&#39; <span class="bp">∈</span> fE := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f e&#39; <span class="bp">∈</span> fE <span class="bp">∧</span> f&#39; (f e&#39;) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a6"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a7"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f e&#39; <span class="bp">∈</span> fE</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a8">use e&#39;</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1a9">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1aa">refine ⟨fe&#39;_in_fE, <span class="bp">?</span>_⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f&#39; (f e&#39;) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ab">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ac">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f&#39; (f e&#39;) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ad"><span class="k">show</span> f&#39; (f e&#39;) <span class="bp">=</span> <span class="k">if</span> h : (f e&#39;) <span class="bp">∈</span> fE <span class="k">then</span> (ϕ (f e&#39;) h)<span class="bp">.</span>val <span class="k">else</span> (Set.Nonempty.some (hE)) <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f&#39; (f e&#39;) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ae">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1af">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(<span class="k">if</span> h : f e&#39; <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ (f e&#39;) h) <span class="k">else</span> Set.Nonempty.some hE) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1b0">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1b1">split</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_pos:<span class="mi">1000</span>, <span class="k">if</span> h : f e&#39; <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ (f e&#39;) h)
    <span class="k">else</span> Set.Nonempty.some hE <span class="bp">==&gt;</span> <span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>)
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_pos:<span class="mi">1000</span>, <span class="k">if</span> h : f e&#39; <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ (f e&#39;) h)
    <span class="k">else</span> Set.Nonempty.some hE <span class="bp">==&gt;</span> <span class="bp">↑</span>(ϕ (f e&#39;) fe&#39;_in_fE)</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE, h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>) <span class="bp">=</span> e</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk1b2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∉</span> fE</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk1b2"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) fe&#39;_in_fE) <span class="bp">=</span> e</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1b3">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1b4"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE, h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1b5">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE, h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>) <span class="bp">=</span> e</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk1b6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∉</span> fE</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk1b6"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) fe&#39;_in_fE) <span class="bp">=</span> e</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1b7"><span class="k">have</span> ff&#39;e&#39;_eq_fe&#39; : f (ϕ (f e&#39;) fe&#39;_in_fE) <span class="bp">=</span> (f e&#39;) :=
        Set.Nonempty.some_mem (fE_dual_non_empty (f e&#39;) fe&#39;_in_fE)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE, h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br><span><var>ff'e'_eq_fe'</var><span class="hyp-type"><b>: </b><span>f (ϕ (f e&#39;) fe&#39;_in_fE) <span class="bp">=</span> f e&#39;</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1b8">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE, h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1b9">specialize f_inj ff&#39;e&#39;_eq_fe&#39;</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE, h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br><span><var>ff'e'_eq_fe'</var><span class="hyp-type"><b>: </b><span>f (ϕ (f e&#39;) fe&#39;_in_fE) <span class="bp">=</span> f e&#39;</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>ϕ (f e&#39;) fe&#39;_in_fE <span class="bp">=</span> e&#39;</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ba">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE, h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1bb"><span class="k">have</span> eq_subtype : <span class="bp">∀</span> {e1 e2 : s_t}, e1 <span class="bp">=</span> e2 <span class="bp">→</span> e1.val <span class="bp">=</span> e2.val :=
        <span class="bp">λ</span> {_} {_} a <span class="bp">↦</span> congrArg Subtype.val a</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE, h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br><span><var>ff'e'_eq_fe'</var><span class="hyp-type"><b>: </b><span>f (ϕ (f e&#39;) fe&#39;_in_fE) <span class="bp">=</span> f e&#39;</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>ϕ (f e&#39;) fe&#39;_in_fE <span class="bp">=</span> e&#39;</span></span></span><br><span><var>eq_subtype</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> {e1 e2 : s_t}, e1 <span class="bp">=</span> e2 <span class="bp">→</span> <span class="bp">↑</span>e1 <span class="bp">=</span> <span class="bp">↑</span>e2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1bc">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>{ val := e, property := e_in_E }</span></span><span class="hyp-type"><b>: </b><span>s_t</span></span></span></span><br><span><var>fe'_in_fE, h✝</var><span class="hyp-type"><b>: </b><span>f e&#39; <span class="bp">∈</span> fE</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion"><span class="bp">↑</span>(ϕ (f e&#39;) h<span class="bp">✝</span>) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1bd">apply (eq_subtype f_inj)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1be">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br><span><var>s_t</var><span><span class="hyp-body"><b>:= </b><span>{ e <span class="bp">//</span> e <span class="bp">∈</span> E }</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>E <span class="bp">→</span> ℕ</span></span></span><br><span><var>f_inj</var><span class="hyp-type"><b>: </b><span>Function.Injective f</span></span></span><br><span><var>fE</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> <span class="bp">∃</span> e, f e <span class="bp">=</span> n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>fE_countable</var><span class="hyp-type"><b>: </b><span>countable fE</span></span></span><br><span><var>fE_dual_non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> n <span class="bp">∈</span> fE, Set.Nonempty {e <span class="bp">|</span> f e <span class="bp">=</span> n}</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n h <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(n : ℕ) <span class="bp">→</span> n <span class="bp">∈</span> fE <span class="bp">→</span> <span class="bp">↑</span>E</span></span></span></span><br><span><var>f'</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="k">if</span> h : n <span class="bp">∈</span> fE <span class="k">then</span> <span class="bp">↑</span>(ϕ n h) <span class="k">else</span> Set.Nonempty.some hE</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f&#39; fE E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1bf">contradiction</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c0">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c1">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>hE</var><span class="hyp-type"><b>: </b><span>Set.Nonempty E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E <span class="bp">↔</span> Set.Countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c2">exact countable_trans.mpr ⟨ℕ, fE, fE_countable, f&#39;, f&#39;_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">The product of two countable sets is countable. (Proposition 1.6 p.2)</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> product_countable_set {u v : <span class="kt">Type</span>} {E : Set u} {A : Set v} (he : countable E) (ha : countable A) : countable {x : u <span class="bp">×</span> v <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A} :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c3"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c4">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c5">rcases he <span class="k">with</span> ⟨fe, fe_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c6">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c7">rcases ha <span class="k">with</span> ⟨fa, fa_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c8">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1c9"><span class="k">let</span> ϕ := <span class="bp">λ</span> (x : ℕ <span class="bp">×</span> ℕ) <span class="bp">↦</span> (fe x.1, fa x.2)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ca">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1cb"><span class="k">have</span> ϕ_surj : SurjOn ϕ univ {x : u <span class="bp">×</span> v <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A} := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1cc"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1cd"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn ϕ univ {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ce">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn ϕ univ {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1cf">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn ϕ univ {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d0">intro x ⟨hx1, hx2⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">∈</span> ϕ <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d1">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn ϕ univ {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d2">rcases fe_surj hx1 <span class="k">with</span> ⟨e, _, hfe⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">x <span class="bp">∈</span> ϕ <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d3">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn ϕ univ {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d4">rcases fa_surj hx2 <span class="k">with</span> ⟨a, _, hfa⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro</span></span><div class="goal-conclusion">x <span class="bp">∈</span> ϕ <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d5">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn ϕ univ {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d6">use (e, a)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(e, a) <span class="bp">∈</span> univ <span class="bp">∧</span> ϕ (e, a) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d7">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn ϕ univ {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d8">refine ⟨trivial, <span class="bp">?</span>_⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">ϕ (e, a) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1d9">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn ϕ univ {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1da">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">ϕ (e, a) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1db"><span class="k">show</span> ϕ (e, a) <span class="bp">=</span> (fe e, fa a) <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">ϕ (e, a) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1dc">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1dd">,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(fe e, fa a) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1de"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">ϕ (e, a) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1df">hfe,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(x.1, fa a) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e0"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">ϕ (e, a) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e1">hfa</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>fe</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>fe_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fe univ E</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> v</span></span></span><br><span><var>fa_surj</var><span class="hyp-type"><b>: </b><span>SurjOn fa univ A</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> (fe x.1, fa x.2)</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">×</span> ℕ <span class="bp">→</span> u <span class="bp">×</span> v</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>u <span class="bp">×</span> v</span></span></span><br><span><var>hx1</var><span class="hyp-type"><b>: </b><span>x.1 <span class="bp">∈</span> E</span></span></span><br><span><var>hx2</var><span class="hyp-type"><b>: </b><span>x.2 <span class="bp">∈</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝¹</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> univ</span></span></span><br><span><var>hfe</var><span class="hyp-type"><b>: </b><span>fe e <span class="bp">=</span> x.1</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>hfa</var><span class="hyp-type"><b>: </b><span>fa a <span class="bp">=</span> x.2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(x.1, x.2) <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e2">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e3">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e4">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>he</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> E <span class="bp">∧</span> x.2 <span class="bp">∈</span> A}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e5">exact countable_trans.mpr ⟨ℕ<span class="bp">×</span>ℕ, univ, N2_countable, ϕ, ϕ_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">ℚ is countable. (Example 1 p.3)</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> Q_countable : countable (univ : Set ℚ) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e6"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e7">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e8"><span class="k">let</span> A := {x : ℤ <span class="bp">×</span> ℕ <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> x.1.natAbs.Coprime x.2}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1e9">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ea"><span class="k">let</span> f := <span class="bp">λ</span> (x : ℤ <span class="bp">×</span> ℕ) <span class="bp">↦</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> ({num:=x.1, den:=x.2, den_nz:=Nat.not_eq_zero_of_lt h.1, reduced:=h.2} : ℚ) <span class="k">else</span> <span class="mi">0</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1eb">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ec"><span class="k">have</span> f_surj : SurjOn f A univ := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ed"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ee"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1ef">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f0">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f1">intro q _</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f2">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f3"><span class="k">let</span> x := (q.num, q.den)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f4">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f5">use x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">x <span class="bp">∈</span> A <span class="bp">∧</span> f x <span class="bp">=</span> q</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f6">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f7">refine ⟨⟨Rat.den_pos q, q.reduced⟩, <span class="bp">?</span>_⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f x <span class="bp">=</span> q</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f8">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1f9">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f x <span class="bp">=</span> q</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1fa"><span class="k">show</span> f x <span class="bp">=</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> ({num:=x.1, den:=x.2, den_nz:=Nat.not_eq_zero_of_lt h.1, reduced:=h.2} : ℚ) <span class="k">else</span> <span class="mi">0</span> <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f x <span class="bp">=</span> q</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1fb">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1fc">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(<span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span>) <span class="bp">=</span> q</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1fd">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk1fe">split</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_pos:<span class="mi">1000</span>, <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> }
    <span class="k">else</span> <span class="mi">0</span> <span class="bp">==&gt;</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> }
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_neg:<span class="mi">1000</span>, <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> }
    <span class="k">else</span> <span class="mi">0</span> <span class="bp">==&gt;</span> <span class="mi">0</span></blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">{ num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="bp">=</span> q</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk1ff" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∉</span> A</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk1ff"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">=</span> q</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk200">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk201"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">{ num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="bp">=</span> q</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk202"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">{ num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="bp">=</span> q</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk203" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∉</span> A</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk203"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">=</span> q</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk204">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk205">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f A univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk206">next h_if <span class="bp">=&gt;</span>
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inr</span></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">=</span> q</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk207">exfalso</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk208">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> univ</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>(q.num, q.den)</span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">=</span> q</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk209">exact h_if ⟨Rat.den_pos q, q.reduced⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk20a">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk20b">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk20c"><span class="k">have</span> countable_prod : countable (univ : Set (ℤ <span class="bp">×</span> ℕ)) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk20d"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk20e"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk20f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk210">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk211"><span class="k">have</span> eq_set : {(x : ℤ <span class="bp">×</span> ℕ) <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> (univ : Set (ℤ <span class="bp">×</span> ℕ)) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk212"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk213"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk214">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk215">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk216">ext x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">x <span class="bp">∈</span> {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">↔</span> x <span class="bp">∈</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk217">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk218">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.mp</span></span><div class="goal-conclusion">x <span class="bp">∈</span> {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">→</span> x <span class="bp">∈</span> univ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk219" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk219"><hr><span class="goal-name">h.mpr</span></label><div class="goal-conclusion">x <span class="bp">∈</span> univ <span class="bp">→</span> x <span class="bp">∈</span> {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ}</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk21a">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk21b"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.mp</span></span><div class="goal-conclusion">x <span class="bp">∈</span> {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">→</span> x <span class="bp">∈</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk21c"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.mp</span></span><div class="goal-conclusion">x <span class="bp">∈</span> {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">→</span> x <span class="bp">∈</span> univ</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk21d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk21d"><hr><span class="goal-name">h.mpr</span></label><div class="goal-conclusion">x <span class="bp">∈</span> univ <span class="bp">→</span> x <span class="bp">∈</span> {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ}</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk21e">intro _</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ}</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.mp</span></span><div class="goal-conclusion">x <span class="bp">∈</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk21f">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.mp</span></span><div class="goal-conclusion">x <span class="bp">∈</span> {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">→</span> x <span class="bp">∈</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk220">trivial</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk221">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk222">intro _</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> univ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.mpr</span></span><div class="goal-conclusion">x <span class="bp">∈</span> {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk223">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk224">exact ⟨trivial, trivial⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk225">
    }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk226">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk227"><span class="k">have</span> univ_countable := product_countable_set Z_countable N_countable</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>eq_set</var><span class="hyp-type"><b>: </b><span>{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</span></span></span><br><span><var>univ_countable</var><span class="hyp-type"><b>: </b><span>countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk228">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk229">rwa [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>eq_set</var><span class="hyp-type"><b>: </b><span>{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</span></span></span><br><span><var>univ_countable</var><span class="hyp-type"><b>: </b><span>countable {x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk22a">eq_set</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>eq_set</var><span class="hyp-type"><b>: </b><span>{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</span></span></span><br><span><var>univ_countable</var><span class="hyp-type"><b>: </b><span>countable univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk22b">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>eq_set</var><span class="hyp-type"><b>: </b><span>{x <span class="bp">|</span> x.1 <span class="bp">∈</span> univ <span class="bp">∧</span> x.2 <span class="bp">∈</span> univ} <span class="bp">=</span> univ</span></span></span><br><span><var>univ_countable</var><span class="hyp-type"><b>: </b><span>countable univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk22c"> at univ_countable</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk22d">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk22e">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk22f"><span class="k">have</span> countable_A := subset_of_countable_set A (<span class="k">show</span> A <span class="bp">⊆</span> univ <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>countable_prod</var><span class="hyp-type"><b>: </b><span>countable univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk230" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk230">exact <span class="bp">λ</span> _ _ <span class="bp">↦</span> trivial</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk231">) countable_prod</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{x <span class="bp">|</span> <span class="mi">0</span> <span class="bp">&lt;</span> x.2 <span class="bp">∧</span> Nat.Coprime (Int.natAbs x.1) x.2}</span></span><span class="hyp-type"><b>: </b><span>Set (ℤ <span class="bp">×</span> ℕ)</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="k">if</span> h : x <span class="bp">∈</span> A <span class="k">then</span> { num := x.1, den := x.2, den_nz := <span class="bp">⋯</span>, reduced := <span class="bp">⋯</span> } <span class="k">else</span> <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℤ <span class="bp">×</span> ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A univ</span></span></span><br><span><var>countable_prod</var><span class="hyp-type"><b>: </b><span>countable univ</span></span></span><br><span><var>countable_A</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk232">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">countable univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk233" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk233">exact countable_trans.mpr ⟨ℤ<span class="bp">×</span>ℕ, A, countable_A, f, f_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">Let A and E two sets such that E is uncountable. If it exists a surjection from A to E, then A is uncountable.</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> uncountable_trans {u v : <span class="kt">Type</span>} (A : Set u) {E : Set v} (h : <span class="bp">¬</span>countable E) : (<span class="bp">∃</span> (f : u <span class="bp">→</span> v), SurjOn f A E) <span class="bp">→</span> <span class="bp">¬</span>countable A :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk234"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk235">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> <span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk236">intro exists_surj</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>exists_surj</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> f, SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk237">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> <span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk238">rcases exists_surj <span class="k">with</span> ⟨f, f_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion"><span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk239">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> <span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk23a">by_contra h_countable</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>h_countable</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk23b"><span class="bp">;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>h_countable</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk23c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk23c"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> <span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk23d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk23d">push_neg at h_countable</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>h_countable</var><span class="hyp-type"><b>: </b><span>countable A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk23e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk23e">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> <span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk23f">rcases h_countable <span class="k">with</span> ⟨g, g_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk240">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> <span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk241"><span class="k">have</span> fg_surj_N_E : SurjOn (f <span class="bp">∘</span> g) univ E := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk242" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk242"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk243"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk244">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk245">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk246">intro e e_in_E</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e <span class="bp">∈</span> f <span class="bp">∘</span> g <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk247">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk248" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk248">rcases f_surj e_in_E <span class="k">with</span> ⟨a, a_in_A, fa⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">e <span class="bp">∈</span> f <span class="bp">∘</span> g <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk249" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk249">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk24a">rcases g_surj a_in_A <span class="k">with</span> ⟨n, n_in_N, gn⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro</span></span><div class="goal-conclusion">e <span class="bp">∈</span> f <span class="bp">∘</span> g <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk24b">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk24c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk24c">use n, n_in_N</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">(f <span class="bp">∘</span> g) n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk24d">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn (f <span class="bp">∘</span> g) univ E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk24e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk24e">rwa [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">(f <span class="bp">∘</span> g) n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk24f"><span class="k">show</span> (f <span class="bp">∘</span> g) n <span class="bp">=</span> f (g n) <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">(f <span class="bp">∘</span> g) n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk250">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk251" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk251">,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">f (g n) <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk252" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk252"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">(f <span class="bp">∘</span> g) n <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk253">gn</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">f a <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk254" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk254">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>v</span></span></span><br><span><var>e_in_E</var><span class="hyp-type"><b>: </b><span>e <span class="bp">∈</span> E</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>u</span></span></span><br><span><var>a_in_A</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>fa</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> e</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_N</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> univ</span></span></span><br><span><var>gn</var><span class="hyp-type"><b>: </b><span>g n <span class="bp">=</span> a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">f a <span class="bp">=</span> e</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk255" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk255">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk256" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk256">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> <span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk257" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk257"><span class="k">have</span> E_countable : countable E := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>fg_surj_N_E</var><span class="hyp-type"><b>: </b><span>SurjOn (f <span class="bp">∘</span> g) univ E</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk258" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk258"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk259"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> v</span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f A E</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> u</span></span></span><br><span><var>g_surj</var><span class="hyp-type"><b>: </b><span>SurjOn g univ A</span></span></span><br><span><var>fg_surj_N_E</var><span class="hyp-type"><b>: </b><span>SurjOn (f <span class="bp">∘</span> g) univ E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk25a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk25a">use (f <span class="bp">∘</span> g)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk25b">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Set v</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">∃</span> f, SurjOn f A E) <span class="bp">→</span> <span class="bp">¬</span>countable A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk25c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk25c">exact h E_countable</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">Corrolary: if A ⊆ E is uncountable, then E is uncountable.</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> subset_of_uncountable_set {u : <span class="kt">Type</span>} {E A : Set u} (h : A <span class="bp">⊆</span> E) (uncountable : <span class="bp">¬</span> countable A) : <span class="bp">¬</span> countable E :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk25d"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk25e">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>uncountable</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk25f">by_contra h_contr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>uncountable</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable A</span></span></span><br><span><var>h_contr</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk260" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk260">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>uncountable</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk261" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk261"><span class="k">let</span> f := <span class="bp">λ</span> (e : u) <span class="bp">↦</span> e</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>uncountable</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable A</span></span></span><br><span><var>h_contr</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> e</span></span><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> u</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk262" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk262">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>uncountable</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk263" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk263"><span class="k">have</span> f_surj : SurjOn f E A := <span class="bp">λ</span> e e_in_A <span class="bp">↦</span> ⟨e, h e_in_A, rfl⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>uncountable</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable A</span></span></span><br><span><var>h_contr</var><span class="hyp-type"><b>: </b><span>countable E</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> e <span class="bp">=&gt;</span> e</span></span><span class="hyp-type"><b>: </b><span>u <span class="bp">→</span> u</span></span></span></span><br><span><var>f_surj</var><span class="hyp-type"><b>: </b><span>SurjOn f E A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk264" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk264">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>E, A</var><span class="hyp-type"><b>: </b><span>Set u</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">⊆</span> E</span></span></span><br><span><var>uncountable</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>countable A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable E</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk265">exact uncountable.elim (countable_trans.mpr ⟨u, E, h_contr, f, f_surj⟩)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

<span class="c1">------------------------------FORMALIZATION-----------------------------------</span>
<span class="sd">/--</span>
<span class="sd">The power set of ℕ is uncountable. (Example 4 p.3)</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> powerset_N_uncountable : <span class="bp">¬</span>countable (<span class="bp">𝒫</span> (univ : Set ℕ)) :=
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk266" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk266"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk267" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk267">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk268" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk268">by_contra h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>h</var><span class="hyp-type"><b>: </b><span>countable (<span class="bp">𝒫</span> univ)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk269" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk269">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk26a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk26a">rcases h <span class="k">with</span> ⟨ϕ, h⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>SurjOn ϕ univ (<span class="bp">𝒫</span> univ)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk26b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk26b">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk26c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk26c"><span class="k">let</span> A := {n : ℕ <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>SurjOn ϕ univ (<span class="bp">𝒫</span> univ)</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk26d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk26d">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk26e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk26e">specialize h (<span class="bp">λ</span> _ _ <span class="bp">↦</span> trivial : A <span class="bp">∈</span> <span class="bp">𝒫</span> (univ : Set ℕ))</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> ϕ <span class="bp">&#39;&#39;</span> univ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk26f">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk270" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk270">rcases h <span class="k">with</span> ⟨a, _, ha⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk271" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk271">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk272" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk272">by_cases ain : a <span class="bp">∉</span> A</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk273" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>a <span class="bp">∉</span> A</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk273"><hr><span class="goal-name">neg</span></label><div class="goal-conclusion">False</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk274" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk274">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk275" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk275"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk276" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk276"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk277" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>a <span class="bp">∉</span> A</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk277"><hr><span class="goal-name">neg</span></label><div class="goal-conclusion">False</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk278" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk278"><span class="k">have</span> a_in_phi : <span class="bp">¬</span> (a <span class="bp">∉</span> ϕ a) := ain</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br><span><var>a_in_phi</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>a <span class="bp">∉</span> ϕ a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk279" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk279">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk27a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk27a">push_neg at a_in_phi</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br><span><var>a_in_phi</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> ϕ a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk27b">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk27c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk27c">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br><span><var>a_in_phi</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> ϕ a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk27d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk27d">ha</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br><span><var>a_in_phi</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk27e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk27e">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br><span><var>a_in_phi</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk27f"> at a_in_phi</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br><span><var>a_in_phi</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk280" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk280">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk281" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk281">exact ain a_in_phi</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk282" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk282">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk283">push_neg at ain</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk284" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk284">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk285"><span class="k">have</span> a_notin_phi_a : a <span class="bp">∉</span> ϕ a := ain</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>a_notin_phi_a</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> ϕ a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk286" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk286">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk287" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk287">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>a_notin_phi_a</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> ϕ a</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk288">ha</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>a_notin_phi_a</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk289">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>a_notin_phi_a</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk28a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk28a"> at a_notin_phi_a</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>ϕ</var><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℕ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span>{n <span class="bp">|</span> n <span class="bp">∉</span> ϕ n}</span></span><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>left✝</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> univ</span></span></span><br><span><var>ha</var><span class="hyp-type"><b>: </b><span>ϕ a <span class="bp">=</span> A</span></span></span><br><span><var>ain</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∈</span> A</span></span></span><br><span><var>a_notin_phi_a</var><span class="hyp-type"><b>: </b><span>a <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk28b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk28b">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk28c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk28c">exact a_notin_phi_a ain</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">/-</span>
<span class="cm">- The set of all sequences in {0, 1}</span>
<span class="cm">-/</span>
<span class="kd">def</span> zero_one := {u: ℕ <span class="bp">→</span> ℕ <span class="bp">|</span> <span class="bp">∀</span>n, u n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> u n <span class="bp">=</span> <span class="mi">1</span>}

<span class="sd">/--</span>
<span class="sd">The set of all sequences in {0, 1} is uncountable. (Example 5 p.3)</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> zero_one_uncountable : <span class="bp">¬</span>countable zero_one :=
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk28d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk28d"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk28e">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk28f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk28f"><span class="k">let</span> f := <span class="bp">λ</span> (ϕ : ℕ <span class="bp">→</span> ℕ) <span class="bp">↦</span> {n : ℕ <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk290" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk290">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk291" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk291"><span class="k">have</span> f_surj : SurjOn f zero_one (<span class="bp">𝒫</span> (univ : Set ℕ)) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk292" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk292"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk293" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk293"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk294" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk294">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk295" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk295">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk296" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk296">intro A _</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk297" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk297">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk298" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk298"><span class="k">let</span> ϕ := indicator A (<span class="bp">λ</span> _ <span class="bp">↦</span> <span class="mi">1</span>)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk299" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk299">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk29a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk29a">use ϕ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one <span class="bp">∧</span> f ϕ <span class="bp">=</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk29b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk29b">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk29c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk29c"><span class="k">have</span> ϕ_in_zero_one : ϕ <span class="bp">∈</span> zero_one := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one <span class="bp">∧</span> f ϕ <span class="bp">=</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk29d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk29d"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk29e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk29e"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk29f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk29f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2a0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2a0">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2a1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2a1">intro n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2a2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2a2">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2a3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2a3">by_cases h : n <span class="bp">∈</span> A</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk2a4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk2a4"><hr><span class="goal-name">neg</span></label><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2a5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2a5">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2a6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2a6"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2a7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2a7"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk2a8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk2a8"><hr><span class="goal-name">neg</span></label><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2a9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2a9"><span class="k">have</span> ind_eq_1 : ϕ n <span class="bp">=</span> <span class="mi">1</span> := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2aa" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2aa"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ab" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ab"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ac" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ac">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ad" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ad">
          </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ae" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ae">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2af" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2af">indicator_apply_eq_self</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">∉</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b0">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">∉</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b1">
          </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b2">exact <span class="bp">λ</span> a <span class="bp">↦</span> (a h)<span class="bp">.</span>elim</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b3">
        }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b4">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b5">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br><span><var>ind_eq_1</var><span class="hyp-type"><b>: </b><span>ϕ n <span class="bp">=</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos.h</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b6"><span class="bp">;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br><span><var>ind_eq_1</var><span class="hyp-type"><b>: </b><span>ϕ n <span class="bp">=</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos.h</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b7"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">pos</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b8">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2b9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2b9">

      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ba" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ba"><span class="k">have</span> ind_eq_0 : ϕ n <span class="bp">=</span> <span class="mi">0</span> := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span> <span class="bp">∨</span> ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2bb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2bb"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2bc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2bc"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2bd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2bd">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2be" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2be">
          </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2bf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2bf">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c0">indicator_apply_eq_zero</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">∈</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c1">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">∈</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c2">
          </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c3">exact <span class="bp">λ</span> a <span class="bp">↦</span> (h a)<span class="bp">.</span>elim</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c4">
      }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c5">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c6">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br><span><var>ind_eq_0</var><span class="hyp-type"><b>: </b><span>ϕ n <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg.h</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c7"><span class="bp">;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br><span><var>ind_eq_0</var><span class="hyp-type"><b>: </b><span>ϕ n <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">neg.h</span></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c8"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ <span class="bp">∈</span> zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2c9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2c9">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ca" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ca">
    }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2cb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2cb">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2cc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2cc">refine ⟨ϕ_in_zero_one, <span class="bp">?</span>_⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f ϕ <span class="bp">=</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2cd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2cd">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ce" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ce">ext n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ <span class="bp">↔</span> n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2cf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2cf">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2d0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2d0">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ <span class="bp">→</span> n <span class="bp">∈</span> A</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk2d1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk2d1"><hr><span class="goal-name">h.h.mpr</span></label><div class="goal-conclusion">n <span class="bp">∈</span> A <span class="bp">→</span> n <span class="bp">∈</span> f ϕ</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2d2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2d2">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2d3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2d3"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ <span class="bp">→</span> n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2d4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2d4"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ <span class="bp">→</span> n <span class="bp">∈</span> A</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk2d5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk2d5"><hr><span class="goal-name">h.h.mpr</span></label><div class="goal-conclusion">n <span class="bp">∈</span> A <span class="bp">→</span> n <span class="bp">∈</span> f ϕ</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2d6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2d6">intro n_in_f_ϕ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_f_ϕ</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> f ϕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2d7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2d7">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ <span class="bp">→</span> n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2d8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2d8"><span class="k">have</span> ϕn_eq_1 : ϕ n <span class="bp">=</span> <span class="mi">1</span> := n_in_f_ϕ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_f_ϕ</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> f ϕ</span></span></span><br><span><var>ϕn_eq_1</var><span class="hyp-type"><b>: </b><span>ϕ n <span class="bp">=</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2d9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2d9">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ <span class="bp">→</span> n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2da" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2da">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_f_ϕ</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> f ϕ</span></span></span><br><span><var>ϕn_eq_1</var><span class="hyp-type"><b>: </b><span>ϕ n <span class="bp">=</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2db" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2db">indicator_apply_eq_self</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_f_ϕ</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> f ϕ</span></span></span><br><span><var>ϕn_eq_1</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2dc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2dc">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_f_ϕ</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> f ϕ</span></span></span><br><span><var>ϕn_eq_1</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2dd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2dd"> at ϕn_eq_1</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_f_ϕ</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> f ϕ</span></span></span><br><span><var>ϕn_eq_1</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2de" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2de">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ <span class="bp">→</span> n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2df" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2df">by_contra n_notin_A</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_f_ϕ</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> f ϕ</span></span></span><br><span><var>ϕn_eq_1</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>n_notin_A</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e0">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ <span class="bp">→</span> n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e1">specialize ϕn_eq_1 n_notin_A</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_f_ϕ</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> f ϕ</span></span></span><br><span><var>n_notin_A</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>n <span class="bp">∈</span> A</span></span></span><br><span><var>ϕn_eq_1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e2">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mp</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ <span class="bp">→</span> n <span class="bp">∈</span> A</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e3">contradiction</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e4">

    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e5">intro n_in_A</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mpr</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e6">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e7"><span class="k">have</span> ϕ_eq_1 : ϕ n <span class="bp">=</span> <span class="mi">1</span> := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h.mpr</span></span><div class="goal-conclusion">n <span class="bp">∈</span> f ϕ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e8"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2e9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2e9"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ea" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ea">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2eb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2eb">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ec" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ec">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ed" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ed">indicator_apply_eq_self</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">∉</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ee" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ee">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">∉</span> A <span class="bp">→</span> <span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ef" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ef">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f0">intro n_notin_A</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br><span><var>n_notin_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∉</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f1">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Set ℕ</span></span></span><br><span><var>a✝</var><span class="hyp-type"><b>: </b><span>A <span class="bp">∈</span> <span class="bp">𝒫</span> univ</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span>indicator A <span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℕ</span></span></span></span><br><span><var>ϕ_in_zero_one</var><span class="hyp-type"><b>: </b><span>ϕ <span class="bp">∈</span> zero_one</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>n_in_A</var><span class="hyp-type"><b>: </b><span>n <span class="bp">∈</span> A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ n <span class="bp">=</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f2">exact (n_notin_A n_in_A)<span class="bp">.</span>elim</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f3">
    }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f4">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> ϕ <span class="bp">=&gt;</span> {n <span class="bp">|</span> ϕ n <span class="bp">=</span> <span class="mi">1</span>}</span></span><span class="hyp-type"><b>: </b><span>(ℕ <span class="bp">→</span> ℕ) <span class="bp">→</span> Set ℕ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f zero_one (<span class="bp">𝒫</span> univ)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f5">exact ϕ_eq_1</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f6">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f7">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">¬</span>countable zero_one</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f8">exact uncountable_trans zero_one powerset_N_uncountable ⟨f, f_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">The set of all sequences to ℕ is uncountable.</span>
<span class="sd">-/</span>
<span class="kd">example</span> : <span class="bp">¬</span> countable (univ : Set (ℕ <span class="bp">→</span> ℕ)) :=
  subset_of_uncountable_set (<span class="bp">λ</span> _ _ <span class="bp">↦</span> trivial) zero_one_uncountable

<span class="sd">/--</span>
<span class="sd">For any real number x and any positive number ε, it exists a rational q such that |x - q| &lt; ε.</span>
<span class="sd">-/</span>
<span class="kd">lemma</span> Q_dense (x : ℝ) : <span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> (q : ℚ), <span class="bp">|</span>x <span class="bp">-</span> q<span class="bp">|</span> <span class="bp">&lt;</span> ε :=
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2f9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2f9"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2fa" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2fa">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2fb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2fb">intro ε ε_pos</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2fc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2fc">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2fd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2fd"><span class="k">have</span> h : x <span class="bp">&lt;</span> x <span class="bp">+</span> ε := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2fe" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2fe"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk2ff" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk2ff"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk300" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk300">linarith</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk301" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk301">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk302" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk302">obtain ⟨q, hql, hqr⟩ := exists_rat_btwn h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion"><span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk303" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk303">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk304" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk304">use q</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk305" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk305">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk306" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk306"><span class="k">have</span> x_minus_q_neg : x <span class="bp">-</span> q <span class="bp">&lt;</span> <span class="mi">0</span> := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk307" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk307"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk308" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk308"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk309" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk309">linarith</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk30a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk30a">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk30b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk30b"><span class="k">have</span> abs_eq_neg : <span class="bp">|</span>x <span class="bp">-</span> q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> q) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk30c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk30c"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk30d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk30d"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk30e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk30e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk30f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk30f">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk310" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk310">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk311" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk311">abs_eq_neg_self</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">≤</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk312" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk312">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">≤</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk313" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk313">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk314" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk314">linarith</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk315" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk315">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk316" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk316">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk317" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk317">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br><span><var>abs_eq_neg</var><span class="hyp-type"><b>: </b><span><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk318" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk318">abs_eq_neg,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br><span><var>abs_eq_neg</var><span class="hyp-type"><b>: </b><span><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk319" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk319"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br><span><var>abs_eq_neg</var><span class="hyp-type"><b>: </b><span><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk31a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk31a"><span class="k">show</span> <span class="bp">-</span>(x <span class="bp">-</span> q) <span class="bp">=</span> q <span class="bp">-</span> x <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br><span><var>abs_eq_neg</var><span class="hyp-type"><b>: </b><span><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk31b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk31b">ring</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk31c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk31c">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>x_minus_q_neg</var><span class="hyp-type"><b>: </b><span>x <span class="bp">-</span> <span class="bp">↑</span>q <span class="bp">&lt;</span> <span class="mi">0</span></span></span></span><br><span><var>abs_eq_neg</var><span class="hyp-type"><b>: </b><span><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">=</span> <span class="bp">-</span>(x <span class="bp">-</span> <span class="bp">↑</span>q)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk31d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk31d">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> q, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk31e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk31e">linarith</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">For any real number x, it exists a sequence of rational that tends to x.</span>
<span class="sd">-/</span>
<span class="kd">example</span> (x : ℝ) : <span class="bp">∃</span> (u : ℕ <span class="bp">→</span> ℚ), Tendsto (<span class="bp">λ</span> n <span class="bp">↦</span> ((u n) : ℝ)) atTop (<span class="bp">𝓝</span> x) :=
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk31f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk31f"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk320" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk320">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk321" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk321"><span class="k">let</span> A := <span class="bp">λ</span> (n : ℕ) <span class="bp">↦</span> {q : ℚ <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> q<span class="bp">|</span> <span class="bp">&lt;</span> (<span class="mi">1</span> <span class="bp">/</span> (n<span class="bp">+</span><span class="mi">1</span>))}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk322" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk322">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk323" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk323"><span class="k">have</span> non_empty : <span class="bp">∀</span> n,  Set.Nonempty (A n) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk324" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk324"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk325" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk325"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk326" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk326">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk327" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk327">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk328" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk328">intro n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Set.Nonempty (A n)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk329" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk329">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk32a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk32a">obtain ⟨q, hq⟩ : <span class="bp">∃</span> (q : ℚ), <span class="bp">|</span>x <span class="bp">-</span> q<span class="bp">|</span> <span class="bp">&lt;</span> (<span class="mi">1</span> <span class="bp">/</span> (n<span class="bp">+</span><span class="mi">1</span>)) := Q_dense x (<span class="mi">1</span> <span class="bp">/</span> (n<span class="bp">+</span><span class="mi">1</span>)) (Nat.one_div_pos_of_nat)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">Set.Nonempty (A n)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk32b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk32b">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk32c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk32c">use q, hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk32d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk32d">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk32e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk32e">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk32f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk32f"><span class="k">let</span> u := <span class="bp">λ</span> (n : ℕ) <span class="bp">↦</span> Set.Nonempty.some (non_empty n)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk330" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk330">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk331" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk331">use u</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk332" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk332">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk333" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk333">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk334" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk334">Metric.tendsto_atTop&#39;</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> N, <span class="bp">∀</span> n <span class="bp">&gt;</span> N, dist (<span class="bp">↑</span>(u n)) x <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk335" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk335">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> N, <span class="bp">∀</span> n <span class="bp">&gt;</span> N, dist (<span class="bp">↑</span>(u n)) x <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk336" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk336">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk337" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk337"><span class="k">have</span> dst : <span class="bp">∀</span> n, dist ((u n) : ℝ) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> ((u n) : ℝ)<span class="bp">|</span> := <span class="bp">λ</span> _ <span class="bp">↦</span> Metric.mem_sphere&#39;.mp rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> N, <span class="bp">∀</span> n <span class="bp">&gt;</span> N, dist (<span class="bp">↑</span>(u n)) x <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk338" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk338">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk339" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk339">simp_rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> N, <span class="bp">∀</span> n <span class="bp">&gt;</span> N, dist (<span class="bp">↑</span>(u n)) x <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk33a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk33a">dst</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] dst:<span class="mi">1000</span>, dist (<span class="bp">↑</span>(u n)) x <span class="bp">==&gt;</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> N, <span class="bp">∀</span> n <span class="bp">&gt;</span> N, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk33b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk33b">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">∀</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, <span class="bp">∃</span> N, <span class="bp">∀</span> n <span class="bp">&gt;</span> N, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk33c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk33c">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk33d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk33d">intro ε ε_pos</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">∃</span> N, <span class="bp">∀</span> n <span class="bp">&gt;</span> N, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk33e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk33e">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk33f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk33f">obtain ⟨N, hn⟩ : <span class="bp">∃</span> (N : ℕ), <span class="mi">1</span> <span class="bp">/</span> (N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">∃</span> N, <span class="bp">∀</span> n <span class="bp">&gt;</span> N, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk340" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk340"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk341" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk341"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> N, <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk342" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk342">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> N, <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk343" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk343">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> N, <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk344" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk344">use (<span class="bp">⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span>)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk345" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk345">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> N, <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk346" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk346"><span class="k">have</span> R_pos: <span class="mi">0</span> <span class="bp">&lt;</span> (<span class="bp">⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span> : ℝ) := Nat.cast_add_one_pos <span class="bp">⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>R_pos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk347" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk347">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> N, <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk348" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk348">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>R_pos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk349" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk349"><span class="k">show</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span> : ℝ) <span class="bp">=</span> (<span class="bp">⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span> : ℝ)<span class="bp">⁻¹</span> <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>R_pos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk34a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk34a">exact one_div (<span class="bp">⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span> : ℝ)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk34b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk34b">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>R_pos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(<span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span>)<span class="bp">⁻¹</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk34c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk34c">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> N, <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk34d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk34d">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>R_pos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(<span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span>)<span class="bp">⁻¹</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk34e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk34e">inv_lt R_pos ε_pos,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>R_pos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">ε<span class="bp">⁻¹</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk34f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk34f"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>R_pos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(<span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span>)<span class="bp">⁻¹</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk350" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk350"><span class="k">show</span> ε<span class="bp">⁻¹</span> <span class="bp">=</span> <span class="mi">1</span> <span class="bp">/</span> ε <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>R_pos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">ε<span class="bp">⁻¹</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk351" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk351">exact inv_eq_one_div ε</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk352" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk352">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>R_pos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="mi">1</span> <span class="bp">/</span> ε <span class="bp">&lt;</span> <span class="bp">↑⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk353" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk353">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> N, <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk354" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk354"><span class="k">calc</span> <span class="mi">1</span> <span class="bp">/</span> ε <span class="bp">&lt;=</span> (<span class="bp">⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> : ℝ) := Nat.le_ceil (<span class="mi">1</span> <span class="bp">/</span> ε)
    _ <span class="bp">&lt;</span> (<span class="bp">⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> <span class="bp">+</span> <span class="mi">1</span> : ℝ) := lt_add_one (<span class="bp">⌈</span><span class="mi">1</span> <span class="bp">/</span> ε<span class="bp">⌉₊</span> : ℝ)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk355" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk355">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk356" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk356">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk357" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk357">use N</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>N</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hn</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">∀</span> n <span class="bp">&gt;</span> N, <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk358" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk358">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk359" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk359">intro n N_ltn</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>q<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>n <span class="bp">+</span> <span class="mi">1</span>)}</span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>non_empty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), Set.Nonempty (A n)</span></span></span><br><span><var>u</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> n <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>ℕ <span class="bp">→</span> ℚ</span></span></span></span><br><span><var>dst</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (n : ℕ), dist (<span class="bp">↑</span>(u n)) x <span class="bp">=</span> <span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span></span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>ε_pos</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>N</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>hn</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> <span class="bp">/</span> (<span class="bp">↑</span>N <span class="bp">+</span> <span class="mi">1</span>) <span class="bp">&lt;</span> ε</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>ℕ</span></span></span><br><span><var>N_ltn</var><span class="hyp-type"><b>: </b><span>n <span class="bp">&gt;</span> N</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">|</span>x <span class="bp">-</span> <span class="bp">↑</span>(u n)<span class="bp">|</span> <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk35a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk35a">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∃</span> u, Tendsto (<span class="k">fun</span> n <span class="bp">=&gt;</span> <span class="bp">↑</span>(u n)) atTop (<span class="bp">𝓝</span> x)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk35b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk35b"><span class="k">calc</span> <span class="bp">|</span>x <span class="bp">-</span> ((u n) : ℝ)<span class="bp">|</span> <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (n <span class="bp">+</span> <span class="mi">1</span> : ℝ) := Nonempty.some_mem (non_empty n)
  _ <span class="bp">&lt;</span> <span class="mi">1</span> <span class="bp">/</span> (N <span class="bp">+</span> <span class="mi">1</span> : ℝ) := Nat.one_div_lt_one_div N_ltn
  _ <span class="bp">&lt;</span> ε := hn</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">/--</span>
<span class="sd">Let A be a family of disjoint, non-empty, open sets of ℝ. Then A is countable. (Example 9 p.4)</span>
<span class="sd">-/</span>
<span class="kd">example</span> (A : NNReal <span class="bp">→</span> Set ℝ) (h_nonempty : <span class="bp">∀</span> t, Set.Nonempty (A t)) (h_open : <span class="bp">∀</span> t, IsOpen (A t)) (h_disjoint : <span class="bp">∀</span> t1 t2, t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)) : countable {A t <span class="bp">|</span> t : NNReal} :=
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk35c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk35c"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk35d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk35d">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk35e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk35e"><span class="k">let</span> q_A_t := <span class="bp">λ</span> t <span class="bp">↦</span> {q : ℚ <span class="bp">|</span> (q : ℝ) <span class="bp">∈</span> A t}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk35f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk35f">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk360" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk360"><span class="k">have</span> nonempty_q_A_t : <span class="bp">∀</span> t, Set.Nonempty (q_A_t t) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk361" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk361"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk362" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk362"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk363" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk363">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk364" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk364">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk365" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk365">intro t</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk366" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk366">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk367" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk367">rcases (h_nonempty t) <span class="k">with</span> ⟨x, hx⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk368" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk368">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk369" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk369">specialize h_open t</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span>IsOpen (A t)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk36a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk36a">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk36b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk36b">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span>IsOpen (A t)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk36c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk36c">Metric.isOpen_iff</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk36d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk36d">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk36e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk36e"> at (h_open)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk36f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk36f">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk370" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk370">rcases h_open x hx <span class="k">with</span> ⟨ε, hε, ball_in_At⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk371" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk371">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk372" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk372">obtain ⟨q, hql, hqr⟩ := exists_rat_btwn (<span class="k">show</span> x <span class="bp">&lt;</span> x <span class="bp">+</span> ε <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk373" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk373">linarith</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk374" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk374">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk375" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk375">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk376" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk376"><span class="k">have</span> q_dist : q <span class="bp">-</span> x <span class="bp">&lt;</span> ε := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk377" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk377"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk378" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk378"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">&lt;</span> ε</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk379" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk379">linarith</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk37a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk37a">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk37b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk37b"><span class="k">have</span> pos_abs : q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|</span>q <span class="bp">-</span> x<span class="bp">|</span> := (abs_of_pos (<span class="k">show</span> <span class="mi">0</span> <span class="bp">&lt;</span> q <span class="bp">-</span> x <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">&lt;</span> ε</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk37c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk37c">linarith</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk37d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk37d">))<span class="bp">.</span>symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">&lt;</span> ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk37e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk37e">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk37f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk37f">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">&lt;</span> ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk380" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk380">pos_abs,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span> <span class="bp">&lt;</span> ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk381" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk381"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">&lt;</span> ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk382" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk382"><span class="k">show</span> <span class="bp">|</span>q <span class="bp">-</span> x<span class="bp">|</span> <span class="bp">=</span> dist (q : ℝ) x <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span> <span class="bp">&lt;</span> ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk383" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk383">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk384" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk384">,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span>dist (<span class="bp">↑</span>q) x <span class="bp">&lt;</span> ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk385" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk385"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">&lt;</span> ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk386" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk386"><span class="bp">←</span>Metric.mem_ball</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> Metric.ball x ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk387" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk387">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> Metric.ball x ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk388" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk388"> at q_dist</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hx</var><span class="hyp-type"><b>: </b><span>x <span class="bp">∈</span> A t</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> x <span class="bp">∈</span> A t, <span class="bp">∃</span> ε <span class="bp">&gt;</span> <span class="mi">0</span>, Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>ε</var><span class="hyp-type"><b>: </b><span>ℝ</span></span></span><br><span><var>hε</var><span class="hyp-type"><b>: </b><span>ε <span class="bp">&gt;</span> <span class="mi">0</span></span></span></span><br><span><var>ball_in_At</var><span class="hyp-type"><b>: </b><span>Metric.ball x ε <span class="bp">⊆</span> A t</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hql</var><span class="hyp-type"><b>: </b><span>x <span class="bp">&lt;</span> <span class="bp">↑</span>q</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">&lt;</span> x <span class="bp">+</span> ε</span></span></span><br><span><var>q_dist</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> Metric.ball x ε</span></span></span><br><span><var>pos_abs</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">-</span> x <span class="bp">=</span> <span class="bp">|↑</span>q <span class="bp">-</span> x<span class="bp">|</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.intro.intro.intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk389" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk389">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk38a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk38a">use q, (ball_in_At q_dist)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk38b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk38b">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk38c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk38c">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk38d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk38d"><span class="k">let</span> q_A := <span class="bp">λ</span> (q : ℚ) <span class="bp">↦</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> (q : ℝ) <span class="bp">∈</span> A t}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk38e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk38e">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk38f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk38f"><span class="k">have</span> nonempty_q_A : <span class="bp">∀</span> q, (<span class="bp">∃</span> t, q <span class="bp">∈</span> (q_A_t t)) <span class="bp">→</span> Set.Nonempty (q_A q) := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk390" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk390"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk391" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk391"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk392" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk392">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk393" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk393">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk394" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk394">intro q h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Set.Nonempty (q_A q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk395" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk395">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk396" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk396">rcases h <span class="k">with</span> ⟨t, hq⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">Set.Nonempty (q_A q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk397" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk397">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk398" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk398">use (A t), t</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">A t <span class="bp">=</span> A t <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk399" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk399">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk39a" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk39a">refine ⟨rfl, <span class="bp">?</span>_⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion"><span class="bp">↑</span>q <span class="bp">∈</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk39b" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk39b">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk39c" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk39c">use hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk39d" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk39d">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk39e" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk39e">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk39f" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk39f"><span class="k">let</span> ϕ := <span class="bp">λ</span> q hq <span class="bp">↦</span> Set.Nonempty.some (nonempty_q_A q hq)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a0">
  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a1"><span class="k">let</span> f := <span class="bp">λ</span> (q : ℚ) <span class="bp">↦</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> (q_A_t t) <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a2">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a3"><span class="k">have</span> f_surj : SurjOn f univ {A t <span class="bp">|</span> t : NNReal} := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a5"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a6">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a7">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a8">intro At ⟨t, h⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">At <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3a9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3a9">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3aa" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3aa">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">At <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3ab" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3ab"><span class="bp">←</span>h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3ac" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3ac">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3ad" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3ad">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3ae" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3ae">rcases nonempty_q_A_t t <span class="k">with</span> ⟨q, hq⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">A t <span class="bp">∈</span> f <span class="bp">&#39;&#39;</span> univ</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3af" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3af">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b0">use q</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">q <span class="bp">∈</span> univ <span class="bp">∧</span> f q <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b1">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b2">refine ⟨trivial, <span class="bp">?</span>_⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f q <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b3">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b4">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f q <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b5"><span class="k">show</span> f q <span class="bp">=</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> (q_A_t t) <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span> <span class="kd">by</span> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">f q <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b6">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b7">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">(<span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span>) <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b8">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3b9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3b9">split</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_pos:<span class="mi">1000</span>, <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span> <span class="bp">==&gt;</span> ϕ q h<span class="bp">✝</span>
[Meta.Tactic.simp.rewrite] <span class="bp">@</span>dif_neg:<span class="mi">1000</span>, <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span> <span class="bp">==&gt;</span> A <span class="mi">0</span></blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">ϕ q h<span class="bp">✝</span> <span class="bp">=</span> A t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk3ba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk3ba"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion">A <span class="mi">0</span> <span class="bp">=</span> A t</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3bb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3bb">
    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3bc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3bc">next h_if <span class="bp">=&gt;</span>
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inl</span></span><div class="goal-conclusion">ϕ q h<span class="bp">✝</span> <span class="bp">=</span> A t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Countable-lean-chk3bd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><label class="goal-separator" for="Countable-lean-chk3bd"><hr><span class="goal-name">h.inr</span></label><div class="goal-conclusion">A <span class="mi">0</span> <span class="bp">=</span> A t</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3be" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3be"><span class="bp">·</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ q h_if <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3bf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3bf"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ q h_if <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c0"><span class="k">have</span> rfl_ϕ : ϕ q h_if <span class="bp">∈</span> q_A q := Nonempty.some_mem (nonempty_q_A q h_if)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>rfl_ϕ</var><span class="hyp-type"><b>: </b><span>ϕ q h_if <span class="bp">∈</span> q_A q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ q h_if <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c1">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ q h_if <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c2">rcases rfl_ϕ <span class="k">with</span> ⟨t2, h_eq_t2, hq2⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">ϕ q h_if <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c3">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ q h_if <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c4">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">ϕ q h_if <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c5"><span class="bp">←</span>h_eq_t2</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">A t2 <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c6">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">A t2 <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c7">

        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ q h_if <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c8"><span class="k">have</span> At_eq_At2 : A t <span class="bp">=</span> A t2 := </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">A t2 <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3c9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3c9"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3ca" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3ca"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">=</span> A t2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3cb" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3cb">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">=</span> A t2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3cc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3cc">
          </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">=</span> A t2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3cd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3cd">by_contra h_neg</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br><span><var>h_neg</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>A t <span class="bp">=</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3ce" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3ce"><span class="bp">;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br><span><var>h_neg</var><span class="hyp-type"><b>: </b><span><span class="bp">¬</span>A t <span class="bp">=</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3cf" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3cf"> </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">=</span> A t2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d0">push_neg at h_neg</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br><span><var>h_neg</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">≠</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d1">
          </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">=</span> A t2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d2"><span class="k">have</span> t_neq : t <span class="bp">≠</span> t2 := <span class="bp">λ</span> a <span class="bp">↦</span> h_neg (congrArg A a)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br><span><var>h_neg</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">≠</span> A t2</span></span></span><br><span><var>t_neq</var><span class="hyp-type"><b>: </b><span>t <span class="bp">≠</span> t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d3">
          </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">=</span> A t2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d4"><span class="k">have</span> disjoint : Disjoint (A t) (A t2) := h_disjoint t t2 t_neq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br><span><var>h_neg</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">≠</span> A t2</span></span></span><br><span><var>t_neq</var><span class="hyp-type"><b>: </b><span>t <span class="bp">≠</span> t2</span></span></span><br><span><var>disjoint</var><span class="hyp-type"><b>: </b><span>Disjoint (A t) (A t2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d5">
          </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">=</span> A t2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d6"><span class="k">have</span> q_not_in : (q : ℝ) <span class="bp">∉</span> A t2 := disjoint_left.mp disjoint hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br><span><var>h_neg</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">≠</span> A t2</span></span></span><br><span><var>t_neq</var><span class="hyp-type"><b>: </b><span>t <span class="bp">≠</span> t2</span></span></span><br><span><var>disjoint</var><span class="hyp-type"><b>: </b><span>Disjoint (A t) (A t2)</span></span></span><br><span><var>q_not_in</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∉</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">False</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d7">
          </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A t <span class="bp">=</span> A t2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d8" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d8">exact q_not_in hq2</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3d9" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3d9">
        }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3da" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3da">
        </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ϕ q h_if <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3db" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3db">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br><span><var>At_eq_At2</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> A t2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">A t2 <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3dc" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3dc">At_eq_At2</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>t2</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h_eq_t2</var><span class="hyp-type"><b>: </b><span>A t2 <span class="bp">=</span> ϕ q h_if</span></span></span><br><span><var>hq2</var><span class="hyp-type"><b>: </b><span><span class="bp">↑</span>q <span class="bp">∈</span> A t2</span></span></span><br><span><var>At_eq_At2</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> A t2</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">A t2 <span class="bp">=</span> A t2</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3dd" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3dd">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3de" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3de">

    </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SurjOn f univ {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3df" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3df">next h_if <span class="bp">=&gt;</span>
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h✝</var><span class="hyp-type"><b>: </b><span><span class="bp">¬∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.inr</span></span><div class="goal-conclusion">A <span class="mi">0</span> <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3e0" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3e0">push_neg at h_if</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), q <span class="bp">∉</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A <span class="mi">0</span> <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3e1" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3e1">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">¬∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A <span class="mi">0</span> <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3e2" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3e2">specialize h_if t</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∉</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A <span class="mi">0</span> <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3e3" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3e3">
      </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br><span><var>q_A_t</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> t <span class="bp">=&gt;</span> {q <span class="bp">|</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℚ</span></span></span></span><br><span><var>nonempty_q_A_t</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (q_A_t t)</span></span></span><br><span><var>q_A</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x <span class="bp">∧</span> <span class="bp">↑</span>q <span class="bp">∈</span> A t}</span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set (Set ℝ)</span></span></span></span><br><span><var>nonempty_q_A</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (q : ℚ), (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set.Nonempty (q_A q)</span></span></span><br><span><var>ϕ</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q hq <span class="bp">=&gt;</span> Set.Nonempty.some <span class="bp">⋯</span></span></span><span class="hyp-type"><b>: </b><span>(q : ℚ) <span class="bp">→</span> (<span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t) <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span><span class="k">fun</span> q <span class="bp">=&gt;</span> <span class="k">if</span> h : <span class="bp">∃</span> t, q <span class="bp">∈</span> q_A_t t <span class="k">then</span> ϕ q h <span class="k">else</span> A <span class="mi">0</span></span></span><span class="hyp-type"><b>: </b><span>ℚ <span class="bp">→</span> Set ℝ</span></span></span></span><br><span><var>At</var><span class="hyp-type"><b>: </b><span>Set ℝ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>NNReal</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A t <span class="bp">=</span> At</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ℚ</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q <span class="bp">∈</span> q_A_t t</span></span></span><br><span><var>h_if</var><span class="hyp-type"><b>: </b><span><span class="bp">¬∃</span> t, q <span class="bp">∈</span> q_A_t t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A <span class="mi">0</span> <span class="bp">=</span> A t</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3e4" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3e4">contradiction</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3e5" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3e5">
  }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3e6" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3e6">

  </label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span>NNReal <span class="bp">→</span> Set ℝ</span></span></span><br><span><var>h_nonempty</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), Set.Nonempty (A t)</span></span></span><br><span><var>h_open</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t : NNReal), IsOpen (A t)</span></span></span><br><span><var>h_disjoint</var><span class="hyp-type"><b>: </b><span><span class="bp">∀</span> (t1 t2 : NNReal), t1 <span class="bp">≠</span> t2 <span class="bp">→</span> Disjoint (A t1) (A t2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countable {x <span class="bp">|</span> <span class="bp">∃</span> t, A t <span class="bp">=</span> x}</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Countable-lean-chk3e7" style="display: none" type="checkbox"><label class="alectryon-input" for="Countable-lean-chk3e7">exact countable_trans.mpr ⟨ℚ, univ, Q_countable, f, f_surj⟩</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">🐙</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span></pre></article></body></html>